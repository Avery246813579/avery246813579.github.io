<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Avery Durrant</title>
    <!--<script>-->
        <!--if( navigator.userAgent.match(/Android/i) ||-->
                <!--navigator.userAgent.match(/webOS/i) ||-->
                <!--navigator.userAgent.match(/iPhone/i) ||-->
                <!--navigator.userAgent.match(/iPod/i)){-->
            <!--document.head.innerHTML += '<link rel="stylesheet" type="text/css" href="assets/style/mobile.css">';-->
        <!--}else{-->
            <!--document.head.innerHTML += '<link rel="stylesheet" type="text/css" href="assets/style/general.css">';-->
        <!--}-->
    <!--</script>-->
    <link rel="stylesheet" type="text/css" href="assets/style/general.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body onloadstart="">

<canvas id="myCanvas"></canvas>

<div id="iconfall">
    <div class="text">
        Avery Durrant
    </div>
</div>

<div id="languages">
    <div id="blocks">
        <div class="l-block" style="background-color: chocolate">
            <div class="expand">Java</div>
        </div>
    </div>
</div>

<div class="modal">
    <div class="content">
        <div class="wrapper">
            <div class="side">
                <img src="assets/images/Java.png" class="image" width="200px" height="200px">
                Comfort:
                <div id="J1" class="bar"></div>
                <br>
                Knowledge:
                <div id="J2" class="bar">2 Years</div>
            </div>

            <div class="projects" style="float: left">
                <div class="project">
                    SFD
                </div>
            </div>
        </div>
    </div>
</div>

<!--<div id="test3" class="test">-->
<!--Java:<br>-->
<!--<span>D</span>-->

<!--<div id="J1" style="background-color: brown">Knowledge</div>-->
<!--<br>-->

<!--<div id="J2" style="background-color: crimson">Years Learnt</div>-->
<!--<br>-->

<!--<div id="J3" style="background-color: chocolate">Dogs</div>-->
<!--</div>-->

<!--<div class="language">-->
<!--Java:-->
<!--<div class="block">-->
<!--<span id="test" class="animate"></span>-->
<!--<span id="test2" class="animate"></span>-->
<!--</div>-->
<!--</div>-->

<script src="assets/scripts/helper.js"></script>
<script src="assets/scripts/iconfall.js"></script>
<script>
    var modal = document.getElementsByClassName('modal')[0];

    window.onclick = function (event) {
        if (event.target == modal) {
            modal.style.display = "none";
            document.getElementById('J1').style.width = "0%";
            document.getElementById('J2').style.width = "0%";
        }
    };

    readTextFile('assets/json/languages.JSON', function (err, payload) {
        if (err) {
            console.log("ERROR");
            return;
        }

        var content = JSON.parse(payload), toAdd = '<center>What I know:</center><div class="row">';
        for(var j = 0; j < content.length; j++) {
            toAdd += '<div class="l-block" style="background-color: chocolate;"><div class="expand">' + content[j]['name'] + '</div></div>';

            if (j == 6 || j == 11) {
                toAdd += '</div>';

                if(j == 5){
                    toAdd += '<div class="row">'
                }
            }
        }

        document.getElementById('languages').innerHTML = toAdd;

        var languages = document.getElementsByClassName('l-block');
        for (var i = 0; i < languages.length; i++) {
            (function () {
                var expand = languages[i].getElementsByClassName('expand')[0];

                var lang = languages[i];
                setTimeout(function () {
                    lang.style.height = "200px";
                    lang.style.width = "200px";
                }, 500);

                languages[i].onmouseover = function () {
                    expand.style.top = "50px";
                    lang.parentElement.style.height = "250px";
                };

                languages[i].onmouseout = function () {
                    expand.style.top = "40px";
                    lang.parentElement.style.height = "225px";
                };

                languages[i].onclick = function () {
                    modal.style.display = "block";

                    setTimeout(function () {
                        document.getElementById('J1').style.width = "50%"
                        document.getElementById('J2').style.width = "25%"
                    }, 100);
                };
            })();
        }
    });
</script>

</body>
</html>